{"remainingRequest":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/babel-loader/lib/index.js!/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/eslint-loader/index.js??ref--14-0!/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/store/modules/auth/actions.js","dependencies":[{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/store/modules/auth/actions.js","mtime":1650850263674},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/babel.config.js","mtime":1650074560818},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/cache-loader/dist/cjs.js","mtime":1650074453892},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/babel-loader/lib/index.js","mtime":1650074454587},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/eslint-loader/index.js","mtime":1650074454006}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2FxYW1pbmUvRG9jdW1lbnRzL1Byb2plY3RzL2ZpbmQtYS1jb2FjaC12dWVqcy1maXJlYmFzZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMi5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvYXFhbWluZS9Eb2N1bWVudHMvUHJvamVjdHMvZmluZC1hLWNvYWNoLXZ1ZWpzLWZpcmViYXNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbG9naW46IGZ1bmN0aW9uIGxvZ2luKGNvbnRleHQsIHBheWxvYWQpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGNvbnRleHQuZGlzcGF0Y2goJ2F1dGgnLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBheWxvYWQpLCB7fSwgewogICAgICAgICAgICAgICAgbW9kZTogX3RoaXMubG9naW4KICAgICAgICAgICAgICB9KSkpOwoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgc2lnbnVwOiBmdW5jdGlvbiBzaWdudXAoY29udGV4dCwgcGF5bG9hZCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGNvbnRleHQuZGlzcGF0Y2goJ3NpZ251cCcsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGF5bG9hZCksIHt9LCB7CiAgICAgICAgICAgICAgICBtb2RlOiBfdGhpczIubG9naW4KICAgICAgICAgICAgICB9KSkpOwoKICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfSwKICBhdXRoOiBmdW5jdGlvbiBhdXRoKGNvbnRleHQsIHBheWxvYWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgbW9kZSwgdXJsOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIG1vZGUgPSBwYXlsb2FkLm1vZGU7CiAgICAgICAgICAgICAgdXJsID0gJ2h0dHBzOi8vaWRlbnRpdHl0b29sa2l0Lmdvb2dsZWFwaXMuY29tL3YxL2FjY291bnRzOnNpZ25JbldpdGhQYXNzd29yZD9rZXk9QUl6YVN5QkVtcGh3YmJYSkkwTHVnVjJtVV9OT051MmZvdTR4SXJnJzsKCiAgICAgICAgICAgICAgaWYgKG1vZGUgPT09ICdzaWdudXAnKSB7CiAgICAgICAgICAgICAgICB1cmwgPSAnaHR0cHM6Ly9pZGVudGl0eXRvb2xraXQuZ29vZ2xlYXBpcy5jb20vdjEvYWNjb3VudHM6c2lnblVwP2tleT1BSXphU3lCRW1waHdiYlhKSTBMdWdWMm1VX05PTnUyZm91NHhJcmcnOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuYXhpb3MucG9zdCh1cmwsIHsKICAgICAgICAgICAgICAgIGVtYWlsOiBwYXlsb2FkLmVtYWlsLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBheWxvYWQucGFzc3dvcmQsCiAgICAgICAgICAgICAgICByZXR1cm5TZWN1cmVUb2tlbjogdHJ1ZQogICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VEYXRhID0gcmVzcG9uc2UuZGF0YTsgLy9TdG9yZSBEYXRhIGluIExvY2FsU3RvcmFnZQoKICAgICAgICAgICAgICAgIC8vU3RvcmUgRGF0YSBpbiBMb2NhbFN0b3JhZ2UKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIHJlc3BvbnNlRGF0YS5pZFRva2VuKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VySWQnLCByZXNwb25zZURhdGEubG9jYWxJZCk7CiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0VXNlcicsIHsKICAgICAgICAgICAgICAgICAgdG9rZW46IHJlc3BvbnNlRGF0YS5pZFRva2VuLAogICAgICAgICAgICAgICAgICB1c2VySWQ6IHJlc3BvbnNlRGF0YS5sb2NhbElkLAogICAgICAgICAgICAgICAgICB0b2tlbkV4cGlyYXRpb246IHJlc3BvbnNlRGF0YS5leHBpcmVzSW4KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuY29tbWl0KCdzZWV0RXJyb3JzJywgZXJyb3IpOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpKCk7CiAgfSwKICB0cnlMb2dpbjogZnVuY3Rpb24gdHJ5TG9naW4oY29udGV4dCkgewogICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CiAgICB2YXIgdXNlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpOwoKICAgIGlmICh0b2tlbiAmJiB1c2VySWQpIHsKICAgICAgY29udGV4dC5jb21taXQoJ3NldFVzZXInLCB7CiAgICAgICAgdG9rZW46IHRva2VuLAogICAgICAgIHVzZXJJZDogdXNlcklkLAogICAgICAgIHRva2VuRXhwaXJhdGlvbjogbnVsbAogICAgICB9KTsKICAgIH0KICB9LAogIGxvZ291dDogZnVuY3Rpb24gbG9nb3V0KGNvbnRleHQpIHsKICAgIGNvbnRleHQuY29tbWl0KCdzZXRVc2VyJywgewogICAgICB0b2tlbjogbnVsbCwKICAgICAgdXNlcklkOiBudWxsLAogICAgICB0b2tlbkV4cGlyYXRpb246IG51bGwsCiAgICAgIGVycm9yczogJycKICAgIH0pOwogIH0KfTs="},{"version":3,"sources":["/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/store/modules/auth/actions.js"],"names":["login","context","payload","dispatch","mode","signup","auth","url","window","axios","post","email","password","returnSecureToken","then","response","responseData","data","localStorage","setItem","idToken","localId","commit","token","userId","tokenExpiration","expiresIn","catch","error","tryLogin","getItem","logout","errors"],"mappings":";;;AAAA,eAAe;AACLA,EAAAA,KADK,iBACCC,OADD,EACUC,OADV,EACmB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CACnBD,OAAO,CAACE,QAAR,CAAiB,MAAjB,kCACAD,OADA;AAEHE,gBAAAA,IAAI,EAAE,KAAI,CAACJ;AAFR,iBADmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAK7B,GANU;AAOLK,EAAAA,MAPK,kBAOEJ,OAPF,EAOWC,OAPX,EAOoB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDACpBD,OAAO,CAACE,QAAR,CAAiB,QAAjB,kCACAD,OADA;AAEHE,gBAAAA,IAAI,EAAE,MAAI,CAACJ;AAFR,iBADoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAK9B,GAZU;AAaLM,EAAAA,IAbK,gBAaAL,OAbA,EAaSC,OAbT,EAakB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACnBE,cAAAA,IADmB,GACZF,OAAO,CAACE,IADI;AAErBG,cAAAA,GAFqB,GAEf,mHAFe;;AAIzB,kBAAIH,IAAI,KAAK,QAAb,EAAuB;AACnBG,gBAAAA,GAAG,GAAG,uGAAN;AACH;;AANwB;AAAA,qBAOnBC,MAAM,CAACC,KAAP,CAAaC,IAAb,CAAkBH,GAAlB,EAAuB;AACrBI,gBAAAA,KAAK,EAAET,OAAO,CAACS,KADM;AAErBC,gBAAAA,QAAQ,EAAEV,OAAO,CAACU,QAFG;AAGrBC,gBAAAA,iBAAiB,EAAE;AAHE,eAAvB,EAKDC,IALC,CAKI,UAAAC,QAAQ,EAAI;AACd,oBAAMC,YAAY,GAAGD,QAAQ,CAACE,IAA9B,CADc,CAEd;;AAAA;AACAC,gBAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,YAAY,CAACI,OAA3C;AACAF,gBAAAA,YAAY,CAACC,OAAb,CAAqB,QAArB,EAA+BH,YAAY,CAACK,OAA5C;AACApB,gBAAAA,OAAO,CAACqB,MAAR,CAAe,SAAf,EAA0B;AACtBC,kBAAAA,KAAK,EAAEP,YAAY,CAACI,OADE;AAEtBI,kBAAAA,MAAM,EAAER,YAAY,CAACK,OAFC;AAGtBI,kBAAAA,eAAe,EAAET,YAAY,CAACU;AAHR,iBAA1B;AAOH,eAjBC,EAkBDC,KAlBC,CAkBK,UAAAC,KAAK;AAAA,uBAAI3B,OAAO,CAACqB,MAAR,CAAe,YAAf,EAA6BM,KAA7B,CAAJ;AAAA,eAlBV,CAPmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0B5B,GAvCU;AAwCXC,EAAAA,QAxCW,oBAwCF5B,OAxCE,EAwCO;AACd,QAAMsB,KAAK,GAAGL,YAAY,CAACY,OAAb,CAAqB,OAArB,CAAd;AACA,QAAMN,MAAM,GAAGN,YAAY,CAACY,OAAb,CAAqB,QAArB,CAAf;;AACA,QAAIP,KAAK,IAAIC,MAAb,EAAqB;AACjBvB,MAAAA,OAAO,CAACqB,MAAR,CAAe,SAAf,EAA0B;AACtBC,QAAAA,KAAK,EAAEA,KADe;AAEtBC,QAAAA,MAAM,EAAEA,MAFc;AAGtBC,QAAAA,eAAe,EAAE;AAHK,OAA1B;AAKH;AACJ,GAlDU;AAmDXM,EAAAA,MAnDW,kBAmDJ9B,OAnDI,EAmDK;AACZA,IAAAA,OAAO,CAACqB,MAAR,CAAe,SAAf,EAA0B;AACtBC,MAAAA,KAAK,EAAE,IADe;AAEtBC,MAAAA,MAAM,EAAE,IAFc;AAGtBC,MAAAA,eAAe,EAAE,IAHK;AAItBO,MAAAA,MAAM,EAAE;AAJc,KAA1B;AAMH;AA1DU,CAAf","sourcesContent":["export default {\n    async login(context, payload) {\n        return context.dispatch('auth', {\n            ...payload,\n            mode: this.login\n        })\n    },\n    async signup(context, payload) {\n        return context.dispatch('signup', {\n            ...payload,\n            mode: this.login\n        })\n    },\n    async auth(context, payload) {\n        const mode = payload.mode;\n        let url = 'https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBEmphwbbXJI0LugV2mU_NONu2fou4xIrg';\n\n        if (mode === 'signup') {\n            url = 'https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBEmphwbbXJI0LugV2mU_NONu2fou4xIrg';\n        }\n        await window.axios.post(url, {\n                email: payload.email,\n                password: payload.password,\n                returnSecureToken: true\n            })\n            .then(response => {\n                const responseData = response.data;\n                //Store Data in LocalStorage\n                localStorage.setItem('token', responseData.idToken);\n                localStorage.setItem('userId', responseData.localId);\n                context.commit('setUser', {\n                    token: responseData.idToken,\n                    userId: responseData.localId,\n                    tokenExpiration: responseData.expiresIn\n\n                });\n\n            })\n            .catch(error => context.commit('seetErrors', error));\n    },\n    tryLogin(context) {\n        const token = localStorage.getItem('token');\n        const userId = localStorage.getItem('userId');\n        if (token && userId) {\n            context.commit('setUser', {\n                token: token,\n                userId: userId,\n                tokenExpiration: null,\n            });\n        }\n    },\n    logout(context) {\n        context.commit('setUser', {\n            token: null,\n            userId: null,\n            tokenExpiration: null,\n            errors: '',\n        })\n    }\n}"]}]}