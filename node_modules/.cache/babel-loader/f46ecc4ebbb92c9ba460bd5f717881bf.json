{"remainingRequest":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/babel-loader/lib/index.js!/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/views/auth/UserAuth.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/views/auth/UserAuth.vue","mtime":1650770221702},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/babel.config.js","mtime":1650074560818},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/cache-loader/dist/cjs.js","mtime":1650074453892},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/babel-loader/lib/index.js","mtime":1650074454587},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/cache-loader/dist/cjs.js","mtime":1650074453892},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/vue-loader-v16/dist/index.js","mtime":1650074454578}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hcWFtaW5lL0RvY3VtZW50cy9Qcm9qZWN0cy9maW5kLWEtY29hY2gtdnVlanMtZmlyZWJhc2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbWFpbDogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgZnJvbUlzVmFsaWQ6IHRydWUsCiAgICAgIG1vZGU6ICdsb2dpbicsCiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIGVycm9yczogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBzdWJtaXRCdXR0b25DYXB0aW9uOiBmdW5jdGlvbiBzdWJtaXRCdXR0b25DYXB0aW9uKCkgewogICAgICBpZiAodGhpcy5tb2RlID09PSAnbG9naW4nKSB7CiAgICAgICAgcmV0dXJuICdMb2dpbic7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICdTaWdudXAnOwogICAgICB9CiAgICB9LAogICAgc3dpdGNoTW9kZUJ1dHRvbkNhcHRpb246IGZ1bmN0aW9uIHN3aXRjaE1vZGVCdXR0b25DYXB0aW9uKCkgewogICAgICBpZiAodGhpcy5tb2RlID09PSAnbG9naW4nKSB7CiAgICAgICAgcmV0dXJuICdTaWdudXAgaW5zdGVhZCc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICdMb2dpbiBpbnN0ZWFkJzsKICAgICAgfQogICAgfSwKICAgIGdldEVycm9yczogZnVuY3Rpb24gZ2V0RXJyb3JzKCkgewogICAgICB2YXIgZXJyb3JzID0gdGhpcy4kc3RvcmUuZ2V0dGVyc1snZ2V0RXJyb3JzJ107CiAgICAgIHJldHVybiBlcnJvcnMgJiYgdGhpcy5tb2RlID09ICdsb2dpbicgPyAnRW1haWwgb3IgcGFzc3dvcmQgaW52YWxpZCEnIDogZXJyb3JzICYmIHRoaXMubW9kZSA9PSAnc2lnbnVwJyA/ICdFbWFpbCBhbHJlYWR5IGV4aXN0cycgOiBudWxsOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGFjdGlvblBheWxvYWQ7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMuZnJvbUlzVmFsaWQgPSB0cnVlOwoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzLmVtYWlsID09PSAnJyB8fCAhX3RoaXMuZW1haWwuaW5jbHVkZXMoJ0AnKSB8fCBfdGhpcy5wYXNzd29yZC5sZW5ndGggPCA2KSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgX3RoaXMuZnJvbUlzVmFsaWQgPSBmYWxzZSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIC8vZm9ybSB2YWxpZGF0ZWQgc2VuZCBodHRwIHJlcXVlc3QgdG8gdGhlIHNlcnZlciBub3cKICAgICAgICAgICAgICAgIGFjdGlvblBheWxvYWQgPSB7CiAgICAgICAgICAgICAgICAgIGVtYWlsOiBfdGhpcy5lbWFpbCwKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzLnBhc3N3b3JkCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzLm1vZGUgPT09ICdsb2dpbicpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbG9naW4nLCBhY3Rpb25QYXlsb2FkKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIF90aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdzaWdudXAnLCBhY3Rpb25QYXlsb2FkKTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHN3aXRjaEF1dGhNb2RlOiBmdW5jdGlvbiBzd2l0Y2hBdXRoTW9kZSgpIHsKICAgICAgdGhpcy5tb2RlID09PSAnbG9naW4nID8gdGhpcy5tb2RlID0gJ3NpZ251cCcgOiB0aGlzLm1vZGUgPSAnbG9naW4nOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;AAuBA,eAAe;AACXA,MADW,kBACL;AACF,WAAO;AACHC,WAAK,EAAE,EADJ;AAEHC,cAAQ,EAAE,EAFP;AAGHC,iBAAW,EAAE,IAHV;AAIHC,UAAI,EAAE,OAJH;AAKHC,eAAQ,EAAI,KALT;AAMHC,YAAK,EAAI;AANN,KAAP;AAQH,GAVU;AAWXC,UAAQ,EAAC;AACLC,uBADK,iCACgB;AACjB,UAAG,KAAKJ,IAAL,KAAc,OAAjB,EAAyB;AACrB,eAAO,OAAP;AACH,OAFD,MAEK;AACD,eAAO,QAAP;AACJ;AACH,KAPI;AAQLK,2BARK,qCAQoB;AACrB,UAAG,KAAKL,IAAL,KAAc,OAAjB,EAAyB;AACrB,eAAO,gBAAP;AACH,OAFD,MAEK;AACD,eAAO,eAAP;AACJ;AACH,KAdI;AAeLM,aAfK,uBAeM;AACP,UAAMJ,MAAK,GAAI,KAAKK,MAAL,CAAYC,OAAZ,CAAoB,WAApB,CAAf;AACA,aAAON,MAAK,IAAK,KAAKF,IAAL,IAAW,OAArB,GAA+B,4BAA/B,GAA8DE,MAAK,IAAK,KAAKF,IAAL,IAAW,QAArB,GAAgC,sBAAhC,GAAyD,IAA9H;AACJ;AAlBK,GAXE;AAgCXS,SAAO,EAAC;AACEC,cADF,wBACc;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACd,qBAAI,CAACX,WAAL,GAAmB,IAAnB;;AADc,sBAEX,KAAI,CAACF,KAAL,KAAe,EAAf,IAAqB,CAAC,KAAI,CAACA,KAAL,CAAWc,QAAX,CAAoB,GAApB,CAAtB,IAAkD,KAAI,CAACb,QAAL,CAAcc,MAAd,GAAuB,CAF9D;AAAA;AAAA;AAAA;;AAAA,iDAGH,KAAI,CAACb,WAAL,GAAmB,KAHhB;;AAAA;AAKd;AACMc,6BANQ,GAMQ;AACdhB,uBAAK,EAAE,KAAI,CAACA,KADE;AAEdC,0BAAQ,EAAE,KAAI,CAACA;AAFD,iBANR;;AAAA,sBAUX,KAAI,CAACE,IAAL,KAAc,OAVH;AAAA;AAAA;AAAA;;AAWV,qBAAI,CAACC,SAAL,GAAiB,IAAjB;AAXU;AAAA,uBAYJ,KAAI,CAACM,MAAL,CAAYO,QAAZ,CAAqB,OAArB,EAA6BD,aAA7B,CAZI;;AAAA;AAaV,qBAAI,CAACZ,SAAL,GAAiB,KAAjB;AAbU;AAAA;;AAAA;AAeV,qBAAI,CAACA,SAAL,GAAiB,IAfP;AAAA;AAAA,uBAgBJ,KAAI,CAACM,MAAL,CAAYO,QAAZ,CAAqB,QAArB,EAA8BD,aAA9B,CAhBI;;AAAA;AAiBV,qBAAI,CAACZ,SAAL,GAAiB,KAAjB;;AAjBU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoBjB,KArBG;AAsBJc,kBAtBI,4BAsBY;AACZ,WAAKf,IAAL,KAAc,OAAd,GAAwB,KAAKA,IAAL,GAAY,QAApC,GAA+C,KAAKA,IAAL,GAAY,OAA3D;AACJ;AAxBI;AAhCG,CAAf","names":["data","email","password","fromIsValid","mode","isLoading","errors","computed","submitButtonCaption","switchModeButtonCaption","getErrors","$store","getters","methods","submitForm","includes","length","actionPayload","dispatch","switchAuthMode"],"sourceRoot":"","sources":["/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/views/auth/UserAuth.vue"],"sourcesContent":["<template>\n    <base-card>\n        <base-spinner v-if=\"isLoading\"></base-spinner>\n        <form v-else @submit.prevent=\"submitForm\">\n            <p v-if=\"getErrors\">{{getErrors}}</p>\n            <div class=\"form-control\">\n                <label for=\"email\">Email</label>\n                <input type=\"email\" id=\"email\" v-model.trim=\"email\">\n            </div>\n            <div class=\"form-control\">\n                <label for=\"password\">Password</label>\n                <input type=\"password\" id=\"password\" v-model.trim=\"password\">\n            </div>\n            <p v-if=\"!fromIsValid\">Please enter a valid email and password must be at least 6 characters long</p>\n            <base-button>{{submitButtonCaption}}</base-button>\n            <base-button @click=\"switchAuthMode\" type=\"button\" mode=\"flat\">{{switchModeButtonCaption}}</base-button>\n        </form> \n    </base-card>\n\n</template>\n\n\n<script>\nexport default {\n    data(){\n        return {\n            email: '',\n            password: '',\n            fromIsValid: true,\n            mode: 'login',\n            isLoading : false,\n            errors : null\n        }\n    },\n    computed:{\n        submitButtonCaption(){\n            if(this.mode === 'login'){\n                return 'Login'\n            }else{\n                return 'Signup'\n            }\n        },\n        switchModeButtonCaption(){\n            if(this.mode === 'login'){\n                return 'Signup instead'\n            }else{\n                return 'Login instead'\n            }\n        },\n        getErrors(){\n            const errors = this.$store.getters['getErrors'];\n            return errors && this.mode=='login' ? 'Email or password invalid!' : errors && this.mode=='signup' ? 'Email already exists' : null ;\n        }\n\n    },\n    methods:{\n        async submitForm(){\n            this.fromIsValid = true;\n            if(this.email === '' || !this.email.includes('@') || this.password.length < 6){\n                return this.fromIsValid = false;\n            }\n            //form validated send http request to the server now\n            const actionPayload = {\n                    email: this.email,\n                    password: this.password\n                };\n            if(this.mode === 'login'){\n                this.isLoading = true;\n                await this.$store.dispatch('login',actionPayload);\n                this.isLoading = false;\n            }else{\n                this.isLoading = true,\n                await this.$store.dispatch('signup',actionPayload);\n                this.isLoading = false;\n            }\n\n        },\n        switchAuthMode(){\n            this.mode === 'login' ? this.mode = 'signup' : this.mode = 'login';\n        }\n\n    }\n}\n</script>\n\n<style scoped>\np{\n    color: red;\n}\nform {\n    margin: 1rem;\n    border-radius: 12px;\n    padding: 1rem;\n}\n\n.form-control {\n    margin: 0.5rem 0;\n}\n\nlabel {\n    font-weight: bold;\n    margin-bottom: 0.5rem;\n    display: block;\n}\n\ninput,\ntextarea {\n    display: block;\n    width: 100%;\n    font: inherit;\n    border: 1px solid #ccc;\n    padding: 0.15rem;\n}\n\ninput:focus,\ntextarea:focus {\n    border-color: #3d008d;\n    background-color: #faf6ff;\n    outline: none;\n}\n</style>\n"]}]}