{"remainingRequest":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/babel-loader/lib/index.js!/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/views/auth/UserAuth.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/views/auth/UserAuth.vue","mtime":1650779898296},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/babel.config.js","mtime":1650074560818},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/cache-loader/dist/cjs.js","mtime":1650074453892},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/babel-loader/lib/index.js","mtime":1650074454587},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/cache-loader/dist/cjs.js","mtime":1650074453892},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/vue-loader-v16/dist/index.js","mtime":1650074454578}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hcWFtaW5lL0RvY3VtZW50cy9Qcm9qZWN0cy9maW5kLWEtY29hY2gtdnVlanMtZmlyZWJhc2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZW1haWw6ICcnLAogICAgICBwYXNzd29yZDogJycsCiAgICAgIGZyb21Jc1ZhbGlkOiB0cnVlLAogICAgICBtb2RlOiAnbG9naW4nLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgICBlcnJvcnM6ICcnCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHN1Ym1pdEJ1dHRvbkNhcHRpb246IGZ1bmN0aW9uIHN1Ym1pdEJ1dHRvbkNhcHRpb24oKSB7CiAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdsb2dpbicpIHsKICAgICAgICByZXR1cm4gJ0xvZ2luJzsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ1NpZ251cCc7CiAgICAgIH0KICAgIH0sCiAgICBzd2l0Y2hNb2RlQnV0dG9uQ2FwdGlvbjogZnVuY3Rpb24gc3dpdGNoTW9kZUJ1dHRvbkNhcHRpb24oKSB7CiAgICAgIGlmICh0aGlzLm1vZGUgPT09ICdsb2dpbicpIHsKICAgICAgICByZXR1cm4gJ1NpZ251cCBpbnN0ZWFkJzsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ0xvZ2luIGluc3RlYWQnOwogICAgICB9CiAgICB9LAogICAgZ2V0RXJyb3JzOiBmdW5jdGlvbiBnZXRFcnJvcnMoKSB7CiAgICAgIHZhciBlcnJvcnMgPSB0aGlzLiRzdG9yZS5nZXR0ZXJzWydnZXRFcnJvcnMnXTsKICAgICAgcmV0dXJuIGVycm9ycyAmJiB0aGlzLm1vZGUgPT0gJ2xvZ2luJyA/ICdFbWFpbCBvciBwYXNzd29yZCBpbnZhbGlkIScgOiBlcnJvcnMgJiYgdGhpcy5tb2RlID09ICdzaWdudXAnID8gJ0VtYWlsIGFscmVhZHkgZXhpc3RzJyA6ICcnOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGFjdGlvblBheWxvYWQsIHJlZGlyZWN0VXJsOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIC8vcmV0cwogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnc2VldEVycm9ycycsICcnKTsKCiAgICAgICAgICAgICAgICBfdGhpcy5mcm9tSXNWYWxpZCA9IHRydWU7CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMuZW1haWwgPT09ICcnIHx8ICFfdGhpcy5lbWFpbC5pbmNsdWRlcygnQCcpIHx8IF90aGlzLnBhc3N3b3JkLmxlbmd0aCA8IDYpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfdGhpcy5mcm9tSXNWYWxpZCA9IGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgLy9mb3JtIHZhbGlkYXRlZCBzZW5kIGh0dHAgcmVxdWVzdCB0byB0aGUgc2VydmVyIG5vdwogICAgICAgICAgICAgICAgYWN0aW9uUGF5bG9hZCA9IHsKICAgICAgICAgICAgICAgICAgZW1haWw6IF90aGlzLmVtYWlsLAogICAgICAgICAgICAgICAgICBwYXNzd29yZDogX3RoaXMucGFzc3dvcmQKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMubW9kZSA9PT0gJ2xvZ2luJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdsb2dpbicsIGFjdGlvblBheWxvYWQpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3NpZ251cCcsIGFjdGlvblBheWxvYWQpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICAvL3RvIHJlZGlyZWN0IGludG8gcmVnaXN0ZXIgYXMgYSBjb2FjaCBwYWdlIG9yIGNvYWNoZXMgCiAgICAgICAgICAgICAgICByZWRpcmVjdFVybCA9ICcvJyArIChfdGhpcy4kcm91dGUucXVlcnkucmVkaXJlY3QgfHwgJ2NvYWNoZXMnKTsgLy9pZiBubyBlcnJvcnMgZ28gdG8gZGFzaGJvYXJkCgogICAgICAgICAgICAgICAgaWYgKCFfdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRFcnJvcnMpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5yZXBsYWNlKHJlZGlyZWN0VXJsKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzd2l0Y2hBdXRoTW9kZTogZnVuY3Rpb24gc3dpdGNoQXV0aE1vZGUoKSB7CiAgICAgIHRoaXMubW9kZSA9PT0gJ2xvZ2luJyA/IHRoaXMubW9kZSA9ICdzaWdudXAnIDogdGhpcy5tb2RlID0gJ2xvZ2luJzsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;AAuBA,eAAe;AACXA,MADW,kBACL;AACF,WAAO;AACHC,WAAK,EAAE,EADJ;AAEHC,cAAQ,EAAE,EAFP;AAGHC,iBAAW,EAAE,IAHV;AAIHC,UAAI,EAAE,OAJH;AAKHC,eAAQ,EAAI,KALT;AAMHC,YAAK,EAAI;AANN,KAAP;AAQH,GAVU;AAWXC,UAAQ,EAAC;AACLC,uBADK,iCACgB;AACjB,UAAG,KAAKJ,IAAL,KAAc,OAAjB,EAAyB;AACrB,eAAO,OAAP;AACH,OAFD,MAEK;AACD,eAAO,QAAP;AACJ;AACH,KAPI;AAQLK,2BARK,qCAQoB;AACrB,UAAG,KAAKL,IAAL,KAAc,OAAjB,EAAyB;AACrB,eAAO,gBAAP;AACH,OAFD,MAEK;AACD,eAAO,eAAP;AACJ;AACH,KAdI;AAeLM,aAfK,uBAeM;AACP,UAAMJ,MAAK,GAAI,KAAKK,MAAL,CAAYC,OAAZ,CAAoB,WAApB,CAAf;AACA,aAAON,MAAK,IAAK,KAAKF,IAAL,IAAW,OAArB,GAA+B,4BAA/B,GAA8DE,MAAK,IAAK,KAAKF,IAAL,IAAW,QAArB,GAAgC,sBAAhC,GAAyD,EAA9H;AACJ;AAlBK,GAXE;AAgCXS,SAAO,EAAC;AACEC,cADF,wBACc;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACd;AACA,qBAAI,CAACH,MAAL,CAAYI,MAAZ,CAAmB,YAAnB,EAAkC,EAAlC;;AACA,qBAAI,CAACZ,WAAL,GAAmB,IAAnB;;AAHc,sBAMX,KAAI,CAACF,KAAL,KAAe,EAAf,IAAqB,CAAC,KAAI,CAACA,KAAL,CAAWe,QAAX,CAAoB,GAApB,CAAtB,IAAkD,KAAI,CAACd,QAAL,CAAce,MAAd,GAAuB,CAN9D;AAAA;AAAA;AAAA;;AAAA,iDAOH,KAAI,CAACd,WAAL,GAAmB,KAPhB;;AAAA;AASd;AACMe,6BAVQ,GAUQ;AACdjB,uBAAK,EAAE,KAAI,CAACA,KADE;AAEdC,0BAAQ,EAAE,KAAI,CAACA;AAFD,iBAVR;;AAAA,sBAgBX,KAAI,CAACE,IAAL,KAAc,OAhBH;AAAA;AAAA;AAAA;;AAiBV,qBAAI,CAACC,SAAL,GAAiB,IAAjB;AAjBU;AAAA,uBAkBJ,KAAI,CAACM,MAAL,CAAYQ,QAAZ,CAAqB,OAArB,EAA6BD,aAA7B,CAlBI;;AAAA;AAmBV,qBAAI,CAACb,SAAL,GAAiB,KAAjB;AAnBU;AAAA;;AAAA;AAqBV,qBAAI,CAACA,SAAL,GAAiB,IArBP;AAAA;AAAA,uBAsBJ,KAAI,CAACM,MAAL,CAAYQ,QAAZ,CAAqB,QAArB,EAA8BD,aAA9B,CAtBI;;AAAA;AAuBV,qBAAI,CAACb,SAAL,GAAiB,KAAjB;;AAvBU;AA0Bd;AACMe,2BA3BQ,GA2BM,OAAO,KAAI,CAACC,MAAL,CAAYC,KAAZ,CAAkBC,QAAlB,IAA8B,SAArC,CA3BN,EA4Bd;;AACA,oBAAG,CAAC,KAAI,CAACZ,MAAL,CAAYC,OAAZ,CAAoBF,SAAxB,EAAkC;AAC9B,uBAAI,CAACc,OAAL,CAAaC,OAAb,CAAqBL,WAArB;AACJ;;AA/Bc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkCjB,KAnCG;AAoCJM,kBApCI,4BAoCY;AACZ,WAAKtB,IAAL,KAAc,OAAd,GAAwB,KAAKA,IAAL,GAAY,QAApC,GAA+C,KAAKA,IAAL,GAAY,OAA3D;AACJ;AAtCI;AAhCG,CAAf","names":["data","email","password","fromIsValid","mode","isLoading","errors","computed","submitButtonCaption","switchModeButtonCaption","getErrors","$store","getters","methods","submitForm","commit","includes","length","actionPayload","dispatch","redirectUrl","$route","query","redirect","$router","replace","switchAuthMode"],"sourceRoot":"","sources":["/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/views/auth/UserAuth.vue"],"sourcesContent":["<template>\n    <base-card>\n        <base-spinner v-if=\"isLoading\"></base-spinner>\n        <form v-else @submit.prevent=\"submitForm\">\n            <p v-if=\"getErrors\">{{getErrors}}</p>\n            <div class=\"form-control\">\n                <label for=\"email\">Email</label>\n                <input type=\"email\" id=\"email\" v-model.trim=\"email\">\n            </div>\n            <div class=\"form-control\">\n                <label for=\"password\">Password</label>\n                <input type=\"password\" id=\"password\" v-model.trim=\"password\">\n            </div>\n            <p v-if=\"!fromIsValid\">Please enter a valid email and password must be at least 6 characters long</p>\n            <base-button>{{submitButtonCaption}}</base-button>\n            <base-button @click=\"switchAuthMode\" type=\"button\" mode=\"flat\">{{switchModeButtonCaption}}</base-button>\n        </form> \n    </base-card>\n\n</template>\n\n\n<script>\nexport default {\n    data(){\n        return {\n            email: '',\n            password: '',\n            fromIsValid: true,\n            mode: 'login',\n            isLoading : false,\n            errors : ''\n        }\n    },\n    computed:{\n        submitButtonCaption(){\n            if(this.mode === 'login'){\n                return 'Login'\n            }else{\n                return 'Signup'\n            }\n        },\n        switchModeButtonCaption(){\n            if(this.mode === 'login'){\n                return 'Signup instead'\n            }else{\n                return 'Login instead'\n            }\n        },\n        getErrors(){\n            const errors = this.$store.getters['getErrors'];\n            return errors && this.mode=='login' ? 'Email or password invalid!' : errors && this.mode=='signup' ? 'Email already exists' : '' ;\n        }\n\n    },\n    methods:{\n        async submitForm(){\n            //rets\n            this.$store.commit('seetErrors' , '');\n            this.fromIsValid = true;\n\n\n            if(this.email === '' || !this.email.includes('@') || this.password.length < 6){\n                return this.fromIsValid = false;\n            }\n            //form validated send http request to the server now\n            const actionPayload = {\n                    email: this.email,\n                    password: this.password\n                };\n\n                \n            if(this.mode === 'login'){\n                this.isLoading = true;\n                await this.$store.dispatch('login',actionPayload);\n                this.isLoading = false;\n            }else{\n                this.isLoading = true,\n                await this.$store.dispatch('signup',actionPayload);\n                this.isLoading = false;\n            }\n\n            //to redirect into register as a coach page or coaches \n            const redirectUrl = '/' + (this.$route.query.redirect || 'coaches');\n            //if no errors go to dashboard\n            if(!this.$store.getters.getErrors){\n                this.$router.replace(redirectUrl); \n            } \n            \n\n        },\n        switchAuthMode(){\n            this.mode === 'login' ? this.mode = 'signup' : this.mode = 'login';\n        }\n\n    }\n}\n</script>\n\n<style scoped>\np{\n    color: red;\n}\nform {\n    margin: 1rem;\n    border-radius: 12px;\n    padding: 1rem;\n}\n\n.form-control {\n    margin: 0.5rem 0;\n}\n\nlabel {\n    font-weight: bold;\n    margin-bottom: 0.5rem;\n    display: block;\n}\n\ninput,\ntextarea {\n    display: block;\n    width: 100%;\n    font: inherit;\n    border: 1px solid #ccc;\n    padding: 0.15rem;\n}\n\ninput:focus,\ntextarea:focus {\n    border-color: #3d008d;\n    background-color: #faf6ff;\n    outline: none;\n}\n</style>\n"]}]}