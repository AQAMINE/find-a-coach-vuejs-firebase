{"remainingRequest":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/babel-loader/lib/index.js!/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/views/auth/UserAuth.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/views/auth/UserAuth.vue","mtime":1650740475168},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/babel.config.js","mtime":1650074560818},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/cache-loader/dist/cjs.js","mtime":1650074453892},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/babel-loader/lib/index.js","mtime":1650074454587},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/cache-loader/dist/cjs.js","mtime":1650074453892},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/vue-loader-v16/dist/index.js","mtime":1650074454578}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hcWFtaW5lL0RvY3VtZW50cy9Qcm9qZWN0cy9maW5kLWEtY29hY2gtdnVlanMtZmlyZWJhc2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbWFpbDogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgZnJvbUlzVmFsaWQ6IHRydWUsCiAgICAgIG1vZGU6ICdsb2dpbicsCiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIGVycm9yczogbnVsbAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBzdWJtaXRCdXR0b25DYXB0aW9uOiBmdW5jdGlvbiBzdWJtaXRCdXR0b25DYXB0aW9uKCkgewogICAgICBpZiAodGhpcy5tb2RlID09PSAnbG9naW4nKSB7CiAgICAgICAgcmV0dXJuICdMb2dpbic7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICdTaWdudXAnOwogICAgICB9CiAgICB9LAogICAgc3dpdGNoTW9kZUJ1dHRvbkNhcHRpb246IGZ1bmN0aW9uIHN3aXRjaE1vZGVCdXR0b25DYXB0aW9uKCkgewogICAgICBpZiAodGhpcy5tb2RlID09PSAnbG9naW4nKSB7CiAgICAgICAgcmV0dXJuICdTaWdudXAgaW5zdGVhZCc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICdMb2dpbiBpbnN0ZWFkJzsKICAgICAgfQogICAgfSwKICAgIGdldEVycm9yczogZnVuY3Rpb24gZ2V0RXJyb3JzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVyc1snZ2V0RXJyb3JzJ10gJiYgdGhpcy5tb2RlID09ICdsb2dpbicgPyAnRW1haWwgb3IgcGFzc3dvcmQgaW52YWxpZCEnIDogdGhpcy4kc3RvcmUuZ2V0dGVyc1snZ2V0RXJyb3JzJ10gJiYgdGhpcy5tb2RlID09ICdzaWdudXAnID8gJ0VtYWlsIGFscmVhZHkgZXhpc3RzJyA6IG51bGw7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5mcm9tSXNWYWxpZCA9IHRydWU7CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMuZW1haWwgPT09ICcnIHx8ICFfdGhpcy5lbWFpbC5pbmNsdWRlcygnQCcpIHx8IF90aGlzLnBhc3N3b3JkLmxlbmd0aCA8IDYpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfdGhpcy5mcm9tSXNWYWxpZCA9IGZhbHNlKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMubW9kZSA9PT0gJ2xvZ2luJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHN0b3JlLmRpc3BhdGNoKCdzaWdudXAnLCB7CiAgICAgICAgICAgICAgICAgIGVtYWlsOiBfdGhpcy5lbWFpbCwKICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IF90aGlzLnBhc3N3b3JkCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgc3dpdGNoQXV0aE1vZGU6IGZ1bmN0aW9uIHN3aXRjaEF1dGhNb2RlKCkgewogICAgICB0aGlzLm1vZGUgPT09ICdsb2dpbicgPyB0aGlzLm1vZGUgPSAnc2lnbnVwJyA6IHRoaXMubW9kZSA9ICdsb2dpbic7CiAgICB9CiAgfQp9Ow=="},{"version":3,"mappings":";;;;AAuBA,eAAe;AACXA,MADW,kBACL;AACF,WAAO;AACHC,WAAK,EAAE,EADJ;AAEHC,cAAQ,EAAE,EAFP;AAGHC,iBAAW,EAAE,IAHV;AAIHC,UAAI,EAAE,OAJH;AAKHC,eAAQ,EAAI,KALT;AAMHC,YAAK,EAAI;AANN,KAAP;AAQH,GAVU;AAWXC,UAAQ,EAAC;AACLC,uBADK,iCACgB;AACjB,UAAG,KAAKJ,IAAL,KAAc,OAAjB,EAAyB;AACrB,eAAO,OAAP;AACH,OAFD,MAEK;AACD,eAAO,QAAP;AACJ;AACH,KAPI;AAQLK,2BARK,qCAQoB;AACrB,UAAG,KAAKL,IAAL,KAAc,OAAjB,EAAyB;AACrB,eAAO,gBAAP;AACH,OAFD,MAEK;AACD,eAAO,eAAP;AACJ;AACH,KAdI;AAeLM,aAfK,uBAeM;AACP,aAAO,KAAKC,MAAL,CAAYC,OAAZ,CAAoB,WAApB,KAAoC,KAAKR,IAAL,IAAW,OAA/C,GAAyD,4BAAzD,GAAwF,KAAKO,MAAL,CAAYC,OAAZ,CAAoB,WAApB,KAAoC,KAAKR,IAAL,IAAW,QAA/C,GAA0D,sBAA1D,GAAmF,IAAlL;AACJ;AAjBK,GAXE;AA+BXS,SAAO,EAAC;AACEC,cADF,wBACc;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACd,qBAAI,CAACX,WAAL,GAAmB,IAAnB;;AADc,sBAEX,KAAI,CAACF,KAAL,KAAe,EAAf,IAAqB,CAAC,KAAI,CAACA,KAAL,CAAWc,QAAX,CAAoB,GAApB,CAAtB,IAAkD,KAAI,CAACb,QAAL,CAAcc,MAAd,GAAuB,CAF9D;AAAA;AAAA;AAAA;;AAAA,iDAGH,KAAI,CAACb,WAAL,GAAmB,KAHhB;;AAAA;AAAA,sBAMX,KAAI,CAACC,IAAL,KAAc,OANH;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAAA;AASV,qBAAI,CAACC,SAAL,GAAiB,IATP;AAAA;AAAA,uBAUJ,KAAI,CAACM,MAAL,CAAYM,QAAZ,CAAqB,QAArB,EAA8B;AAChChB,uBAAK,EAAE,KAAI,CAACA,KADoB;AAEhCC,0BAAQ,EAAE,KAAI,CAACA;AAFiB,iBAA9B,CAVI;;AAAA;AAcV,qBAAI,CAACG,SAAL,GAAiB,KAAjB;;AAdU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBjB,KAnBG;AAoBJa,kBApBI,4BAoBY;AACZ,WAAKd,IAAL,KAAc,OAAd,GAAwB,KAAKA,IAAL,GAAY,QAApC,GAA+C,KAAKA,IAAL,GAAY,OAA3D;AACJ;AAtBI;AA/BG,CAAf","names":["data","email","password","fromIsValid","mode","isLoading","errors","computed","submitButtonCaption","switchModeButtonCaption","getErrors","$store","getters","methods","submitForm","includes","length","dispatch","switchAuthMode"],"sourceRoot":"","sources":["/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/views/auth/UserAuth.vue"],"sourcesContent":["<template>\n    <base-card>\n        <base-spinner v-if=\"isLoading\"></base-spinner>\n        <form v-else @submit.prevent=\"submitForm\">\n            <p v-if=\"getErrors\">Email already exists</p>\n            <div class=\"form-control\">\n                <label for=\"email\">Email</label>\n                <input type=\"email\" id=\"email\" v-model.trim=\"email\">\n            </div>\n            <div class=\"form-control\">\n                <label for=\"password\">Password</label>\n                <input type=\"password\" id=\"password\" v-model.trim=\"password\">\n            </div>\n            <p v-if=\"!fromIsValid\">Please enter a valid email and password must be at least 6 characters long</p>\n            <base-button>{{submitButtonCaption}}</base-button>\n            <base-button @click=\"switchAuthMode\" type=\"button\" mode=\"flat\">{{switchModeButtonCaption}}</base-button>\n        </form> \n    </base-card>\n\n</template>\n\n\n<script>\nexport default {\n    data(){\n        return {\n            email: '',\n            password: '',\n            fromIsValid: true,\n            mode: 'login',\n            isLoading : false,\n            errors : null\n        }\n    },\n    computed:{\n        submitButtonCaption(){\n            if(this.mode === 'login'){\n                return 'Login'\n            }else{\n                return 'Signup'\n            }\n        },\n        switchModeButtonCaption(){\n            if(this.mode === 'login'){\n                return 'Signup instead'\n            }else{\n                return 'Login instead'\n            }\n        },\n        getErrors(){\n            return this.$store.getters['getErrors'] && this.mode=='login' ? 'Email or password invalid!' : this.$store.getters['getErrors'] && this.mode=='signup' ? 'Email already exists' : null ;\n        }\n\n    },\n    methods:{\n        async submitForm(){\n            this.fromIsValid = true;\n            if(this.email === '' || !this.email.includes('@') || this.password.length < 6){\n                return this.fromIsValid = false;\n            }\n            //form validated send http request to the server now\n            if(this.mode === 'login'){\n                //...\n            }else{\n                this.isLoading = true,\n                await this.$store.dispatch('signup',{\n                    email: this.email,\n                    password: this.password\n                });\n                this.isLoading = false\n            }\n            \n\n        },\n        switchAuthMode(){\n            this.mode === 'login' ? this.mode = 'signup' : this.mode = 'login';\n        }\n\n    }\n}\n</script>\n\n<style scoped>\np{\n    color: red;\n}\nform {\n    margin: 1rem;\n    border-radius: 12px;\n    padding: 1rem;\n}\n\n.form-control {\n    margin: 0.5rem 0;\n}\n\nlabel {\n    font-weight: bold;\n    margin-bottom: 0.5rem;\n    display: block;\n}\n\ninput,\ntextarea {\n    display: block;\n    width: 100%;\n    font: inherit;\n    border: 1px solid #ccc;\n    padding: 0.15rem;\n}\n\ninput:focus,\ntextarea:focus {\n    border-color: #3d008d;\n    background-color: #faf6ff;\n    outline: none;\n}\n</style>\n"]}]}