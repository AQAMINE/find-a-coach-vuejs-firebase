{"remainingRequest":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/babel-loader/lib/index.js!/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/eslint-loader/index.js??ref--14-0!/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/store/modules/coaches/actions.js","dependencies":[{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/store/modules/coaches/actions.js","mtime":1650768242718},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/babel.config.js","mtime":1650074560818},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/cache-loader/dist/cjs.js","mtime":1650074453892},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/babel-loader/lib/index.js","mtime":1650074454587},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/eslint-loader/index.js","mtime":1650074454006}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hcWFtaW5lL0RvY3VtZW50cy9Qcm9qZWN0cy9maW5kLWEtY29hY2gtdnVlanMtZmlyZWJhc2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICIvVXNlcnMvYXFhbWluZS9Eb2N1bWVudHMvUHJvamVjdHMvZmluZC1hLWNvYWNoLXZ1ZWpzLWZpcmViYXNlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgcmVnaXN0ZXJDb2FjaDogZnVuY3Rpb24gcmVnaXN0ZXJDb2FjaChjb250ZXh0LCBkYXRhKSB7CiAgICB2YXIgdXNlcklkID0gY29udGV4dC5yb290R2V0dGVycy51c2VySWQ7CiAgICB2YXIgQ29hY2hEYXRhID0gewogICAgICBmaXJzdE5hbWU6IGRhdGEuZmlyc3QsCiAgICAgIGxhc3ROYW1lOiBkYXRhLmxhc3QsCiAgICAgIGRlc2NyaXB0aW9uOiBkYXRhLmRlc2MsCiAgICAgIGhvdXJseVJhdGU6IGRhdGEucmF0ZSwKICAgICAgYXJlYXM6IGRhdGEuYXJlYXMKICAgIH07CiAgICB2YXIgdG9rZW4gPSBjb250ZXh0LnJvb3RHZXR0ZXJzLnRva2VuOyAvL1dlIGFyZSB1c2luZyBQVVQgbWV0aG9kIHRvIHVwZGF0ZSBvciBjcmVhdGUgY29hY2ggaWYgaWQgZXhpc3QgdXBkYXRlIHRoZSBjb2FjaCBlbHNlIGNyZWF0ZSBpdCAKCiAgICB3aW5kb3cuYXhpb3MucHV0KCJodHRwczovL2ZpbmQtYS1jb2FjaC12dWVqcy1maXJlYmFzZS1kZWZhdWx0LXJ0ZGIuZmlyZWJhc2Vpby5jb20vY29hY2hlcy8iLmNvbmNhdCh1c2VySWQsICIuanNvbj9hdXRoPSIpICsgdG9rZW4sIENvYWNoRGF0YSkudGhlbigpLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnMpOwogICAgfSk7CiAgICBjb250ZXh0LmNvbW1pdCgncmVnaXN0ZXJDb2FjaCcsIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgQ29hY2hEYXRhKSwge30sIHsKICAgICAgaWQ6IHVzZXJJZAogICAgfSkpOwogIH0sCiAgbG9hZENvYWNoZXM6IGZ1bmN0aW9uIGxvYWRDb2FjaGVzKGNvbnRleHQsIHBheWxvYWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBjb2FjaGVzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKCEoIXBheWxvYWQuZm9yY2VSZWZyZXNoICYmICFjb250ZXh0LmdldHRlcnMuc2hvdWxkVXBkYXRlKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNvYWNoZXMgPSBbXTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmF4aW9zLmdldCgiaHR0cHM6Ly9maW5kLWEtY29hY2gtdnVlanMtZmlyZWJhc2UtZGVmYXVsdC1ydGRiLmZpcmViYXNlaW8uY29tL2NvYWNoZXMuanNvbiIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VEYXRhID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcmVzcG9uc2VEYXRhKSB7CiAgICAgICAgICAgICAgICAgIHZhciBjb2FjaCA9IHsKICAgICAgICAgICAgICAgICAgICBpZDoga2V5LAogICAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogcmVzcG9uc2VEYXRhW2tleV0uZmlyc3ROYW1lLAogICAgICAgICAgICAgICAgICAgIGxhc3ROYW1lOiByZXNwb25zZURhdGFba2V5XS5sYXN0TmFtZSwKICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVzcG9uc2VEYXRhW2tleV0uZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgICAgaG91cmx5UmF0ZTogcmVzcG9uc2VEYXRhW2tleV0uaG91cmx5UmF0ZSwKICAgICAgICAgICAgICAgICAgICBhcmVhczogcmVzcG9uc2VEYXRhW2tleV0uYXJlYXMKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgY29hY2hlcy5wdXNoKGNvYWNoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0Q29hY2hlcycsIGNvYWNoZXMpOwogICAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ3NldEZldGNoVGltZXNUYW1wJyk7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5jb21taXQoJ3NldEVycm9ycycsIGVycm9yKTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"sources":["/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/store/modules/coaches/actions.js"],"names":["registerCoach","context","data","userId","rootGetters","CoachData","firstName","first","lastName","last","description","desc","hourlyRate","rate","areas","token","window","axios","put","then","catch","error","console","log","response","errors","commit","id","loadCoaches","payload","forceRefresh","getters","shouldUpdate","coaches","get","responseData","key","coach","push"],"mappings":";;;;;AAAA,eAAe;AAEXA,EAAAA,aAFW,yBAEGC,OAFH,EAEYC,IAFZ,EAEkB;AACzB,QAAMC,MAAM,GAAGF,OAAO,CAACG,WAAR,CAAoBD,MAAnC;AACA,QAAME,SAAS,GAAG;AACdC,MAAAA,SAAS,EAAEJ,IAAI,CAACK,KADF;AAEdC,MAAAA,QAAQ,EAAEN,IAAI,CAACO,IAFD;AAGdC,MAAAA,WAAW,EAAER,IAAI,CAACS,IAHJ;AAIdC,MAAAA,UAAU,EAAEV,IAAI,CAACW,IAJH;AAKdC,MAAAA,KAAK,EAAEZ,IAAI,CAACY;AALE,KAAlB;AAOA,QAAMC,KAAK,GAAGd,OAAO,CAACG,WAAR,CAAoBW,KAAlC,CATyB,CAUzB;;AACAC,IAAAA,MAAM,CAACC,KAAP,CAAaC,GAAb,CAAiB,kFAA2Ef,MAA3E,mBAAiGY,KAAlH,EAAyHV,SAAzH,EACKc,IADL,GAEKC,KAFL,CAEW,UAAAC,KAAK;AAAA,aAAIC,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,QAAN,CAAetB,IAAf,CAAoBuB,MAAhC,CAAJ;AAAA,KAFhB;AAIAxB,IAAAA,OAAO,CAACyB,MAAR,CAAe,eAAf,kCAEOrB,SAFP;AAGIsB,MAAAA,EAAE,EAAExB;AAHR;AAOH,GAxBU;AAyBLyB,EAAAA,WAzBK,uBAyBO3B,OAzBP,EAyBgB4B,OAzBhB,EAyByB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAC5B,CAACA,OAAO,CAACC,YAAT,IAAyB,CAAC7B,OAAO,CAAC8B,OAAR,CAAgBC,YADd;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAI1BC,cAAAA,OAJ0B,GAIhB,EAJgB;AAAA;AAAA,qBAK1BjB,MAAM,CAACC,KAAP,CAAaiB,GAAb,iFACDf,IADC,CACI,UAAAK,QAAQ,EAAI;AAEd,oBAAMW,YAAY,GAAGX,QAAQ,CAACtB,IAA9B;;AAEA,qBAAK,IAAMkC,GAAX,IAAkBD,YAAlB,EAAgC;AAC5B,sBAAME,KAAK,GAAG;AACVV,oBAAAA,EAAE,EAAES,GADM;AAEV9B,oBAAAA,SAAS,EAAE6B,YAAY,CAACC,GAAD,CAAZ,CAAkB9B,SAFnB;AAGVE,oBAAAA,QAAQ,EAAE2B,YAAY,CAACC,GAAD,CAAZ,CAAkB5B,QAHlB;AAIVE,oBAAAA,WAAW,EAAEyB,YAAY,CAACC,GAAD,CAAZ,CAAkB1B,WAJrB;AAKVE,oBAAAA,UAAU,EAAEuB,YAAY,CAACC,GAAD,CAAZ,CAAkBxB,UALpB;AAMVE,oBAAAA,KAAK,EAAEqB,YAAY,CAACC,GAAD,CAAZ,CAAkBtB;AANf,mBAAd;AAQAmB,kBAAAA,OAAO,CAACK,IAAR,CAAaD,KAAb;AACH;;AACDpC,gBAAAA,OAAO,CAACyB,MAAR,CAAe,YAAf,EAA6BO,OAA7B;AACAhC,gBAAAA,OAAO,CAACyB,MAAR,CAAe,mBAAf;AACH,eAlBC,EAkBCN,KAlBD,CAkBO,UAAAC,KAAK;AAAA,uBAAIpB,OAAO,CAACyB,MAAR,CAAe,WAAf,EAA4BL,KAA5B,CAAJ;AAAA,eAlBZ,CAL0B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4BnC;AArDU,CAAf","sourcesContent":["export default {\n\n    registerCoach(context, data) {\n        const userId = context.rootGetters.userId;\n        const CoachData = {\n            firstName: data.first,\n            lastName: data.last,\n            description: data.desc,\n            hourlyRate: data.rate,\n            areas: data.areas\n        };\n        const token = context.rootGetters.token;\n        //We are using PUT method to update or create coach if id exist update the coach else create it \n        window.axios.put(`https://find-a-coach-vuejs-firebase-default-rtdb.firebaseio.com/coaches/${userId}.json?auth=` + token, CoachData)\n            .then( /*({ data }) => (console.log(data))*/ )\n            .catch(error => console.log(error.response.data.errors));\n\n        context.commit('registerCoach', {\n            //copy coach data new object\n            ...CoachData,\n            id: userId\n\n        });\n\n    },\n    async loadCoaches(context, payload) {\n        if (!payload.forceRefresh && !context.getters.shouldUpdate) {\n            return;\n        }\n        const coaches = [];\n        await window.axios.get(`https://find-a-coach-vuejs-firebase-default-rtdb.firebaseio.com/coaches.json`)\n            .then(response => {\n\n                const responseData = response.data;\n\n                for (const key in responseData) {\n                    const coach = {\n                        id: key,\n                        firstName: responseData[key].firstName,\n                        lastName: responseData[key].lastName,\n                        description: responseData[key].description,\n                        hourlyRate: responseData[key].hourlyRate,\n                        areas: responseData[key].areas\n                    };\n                    coaches.push(coach);\n                }\n                context.commit('setCoaches', coaches);\n                context.commit('setFetchTimesTamp');\n            }).catch(error => context.commit('setErrors', error));\n\n\n\n\n    }\n\n}"]}]}