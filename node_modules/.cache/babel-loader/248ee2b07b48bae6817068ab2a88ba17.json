{"remainingRequest":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/babel-loader/lib/index.js!/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/eslint-loader/index.js??ref--14-0!/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/store/modules/requests/actions.js","dependencies":[{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/store/modules/requests/actions.js","mtime":1650768219916},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/babel.config.js","mtime":1650074560818},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/cache-loader/dist/cjs.js","mtime":1650074453892},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/babel-loader/lib/index.js","mtime":1650074454587},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/eslint-loader/index.js","mtime":1650074454006}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hcWFtaW5lL0RvY3VtZW50cy9Qcm9qZWN0cy9maW5kLWEtY29hY2gtdnVlanMtZmlyZWJhc2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgQ29udGFjdENvYWNoOiBmdW5jdGlvbiBDb250YWN0Q29hY2goY29udGV4dCwgcGF5bG9hZCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIG5ld1JlcXVlc3Q7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBuZXdSZXF1ZXN0ID0gewogICAgICAgICAgICAgICAgdXNlckVtYWlsOiBwYXlsb2FkLmVtYWlsLAogICAgICAgICAgICAgICAgbWVzc2FnZTogcGF5bG9hZC5tZXNzYWdlCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmF4aW9zLnBvc3QoImh0dHBzOi8vZmluZC1hLWNvYWNoLXZ1ZWpzLWZpcmViYXNlLWRlZmF1bHQtcnRkYi5maXJlYmFzZWlvLmNvbS9yZXF1ZXN0cy8iLmNvbmNhdChwYXlsb2FkLmNvYWNoSWQsICIuanNvbiIpLCBuZXdSZXF1ZXN0KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlLmRhdGEubmFtZTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlRGF0YSk7CiAgICAgICAgICAgICAgICBuZXdSZXF1ZXN0LmlkID0gcmVzcG9uc2VEYXRhOyAvL3N0b3JlIGNvYWNoIGlkIGp1c3Qgb24gdGhlIGxvY2FsIGRhdGEKCiAgICAgICAgICAgICAgICAvL3N0b3JlIGNvYWNoIGlkIGp1c3Qgb24gdGhlIGxvY2FsIGRhdGEKICAgICAgICAgICAgICAgIG5ld1JlcXVlc3QuY29hY2hJZCA9IHBheWxvYWQuY29hY2hJZDsKICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdhZGRSZXF1ZXN0JywgbmV3UmVxdWVzdCk7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnMpOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZmV0Y2hSZXF1ZXN0czogZnVuY3Rpb24gZmV0Y2hSZXF1ZXN0cyhjb250ZXh0KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGNvYWNoSWQsIHRva2VuLCByZXF1ZXN0czsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAvL2dldCBDdXJlbnQgVXNlciBJZCAKICAgICAgICAgICAgICBjb2FjaElkID0gY29udGV4dC5yb290R2V0dGVycy51c2VySWQ7CiAgICAgICAgICAgICAgdG9rZW4gPSBjb250ZXh0LnJvb3RHZXR0ZXJzLnRva2VuOwogICAgICAgICAgICAgIHJlcXVlc3RzID0gW107CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuYXhpb3MuZ2V0KCJodHRwczovL2ZpbmQtYS1jb2FjaC12dWVqcy1maXJlYmFzZS1kZWZhdWx0LXJ0ZGIuZmlyZWJhc2Vpby5jb20vcmVxdWVzdHMvIi5jb25jYXQoY29hY2hJZCwgIi5qc29uP2F1dGg9IikgKyB0b2tlbikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIHZhciByZXNwb25zZURhdGEgPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiByZXNwb25zZURhdGEpIHsKICAgICAgICAgICAgICAgICAgdmFyIHJlcXVlc3QgPSB7CiAgICAgICAgICAgICAgICAgICAgaWQ6IGtleSwKICAgICAgICAgICAgICAgICAgICBjb2FjaElkOiBjb2FjaElkLAogICAgICAgICAgICAgICAgICAgIHVzZXJFbWFpbDogcmVzcG9uc2VEYXRhW2tleV0udXNlckVtYWlsLAogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlRGF0YVtrZXldLm1lc3NhZ2UKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgcmVxdWVzdHMucHVzaChyZXF1ZXN0KTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0UmVxdWVzdCcsIHJlcXVlc3RzKTsKICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICAgICAgICAgIHJldHVybiAoCiAgICAgICAgICAgICAgICAgIC8qY29udGV4dC5jb21taXQoJ3NldEVycm9ycycsIGVycm9yKSovCiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQogICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"sources":["/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/store/modules/requests/actions.js"],"names":["ContactCoach","context","payload","newRequest","userEmail","email","message","window","axios","post","coachId","then","response","responseData","data","name","console","log","id","commit","catch","error","errors","fetchRequests","rootGetters","userId","token","requests","get","key","request","push"],"mappings":";;;AAAA,eAAe;AACLA,EAAAA,YADK,wBACQC,OADR,EACiBC,OADjB,EAC0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC3BC,cAAAA,UAD2B,GACd;AACfC,gBAAAA,SAAS,EAAEF,OAAO,CAACG,KADJ;AAEfC,gBAAAA,OAAO,EAAEJ,OAAO,CAACI;AAFF,eADc;AAAA;AAAA,qBAM3BC,MAAM,CAACC,KAAP,CAAaC,IAAb,oFAA8FP,OAAO,CAACQ,OAAtG,YAAsHP,UAAtH,EACDQ,IADC,CACI,UAAAC,QAAQ,EAAI;AAEd,oBAAMC,YAAY,GAAGD,QAAQ,CAACE,IAAT,CAAcC,IAAnC;AACAC,gBAAAA,OAAO,CAACC,GAAR,CAAYJ,YAAZ;AACAV,gBAAAA,UAAU,CAACe,EAAX,GAAgBL,YAAhB,CAJc,CAOd;;AAAA;AACAV,gBAAAA,UAAU,CAACO,OAAX,GAAqBR,OAAO,CAACQ,OAA7B;AACAT,gBAAAA,OAAO,CAACkB,MAAR,CAAe,YAAf,EAA6BhB,UAA7B;AACH,eAXC,EAYDiB,KAZC,CAYK,UAAAC,KAAK;AAAA,uBAAIL,OAAO,CAACC,GAAR,CAAYI,KAAK,CAACT,QAAN,CAAeE,IAAf,CAAoBQ,MAAhC,CAAJ;AAAA,eAZV,CAN2B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBpC,GAvBU;AAwBLC,EAAAA,aAxBK,yBAwBStB,OAxBT,EAwBkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACzB;AACMS,cAAAA,OAFmB,GAETT,OAAO,CAACuB,WAAR,CAAoBC,MAFX;AAGnBC,cAAAA,KAHmB,GAGXzB,OAAO,CAACuB,WAAR,CAAoBE,KAHT;AAInBC,cAAAA,QAJmB,GAIR,EAJQ;AAAA;AAAA,qBAKnBpB,MAAM,CAACC,KAAP,CAAaoB,GAAb,CAAiB,mFAA4ElB,OAA5E,mBAAmGgB,KAApH,EACDf,IADC,CACI,UAAAC,QAAQ,EAAI;AAEd,oBAAMC,YAAY,GAAGD,QAAQ,CAACE,IAA9B;;AACA,qBAAK,IAAMe,GAAX,IAAkBhB,YAAlB,EAAgC;AAC5B,sBAAMiB,OAAO,GAAG;AACZZ,oBAAAA,EAAE,EAAEW,GADQ;AAEZnB,oBAAAA,OAAO,EAAEA,OAFG;AAGZN,oBAAAA,SAAS,EAAES,YAAY,CAACgB,GAAD,CAAZ,CAAkBzB,SAHjB;AAIZE,oBAAAA,OAAO,EAAEO,YAAY,CAACgB,GAAD,CAAZ,CAAkBvB;AAJf,mBAAhB;AAMAqB,kBAAAA,QAAQ,CAACI,IAAT,CAAcD,OAAd;AACH;;AACD7B,gBAAAA,OAAO,CAACkB,MAAR,CAAe,YAAf,EAA6BQ,QAA7B;AACH,eAdC,EAcCP,KAdD,CAcO,UAAAC,KAAK;AAAA;AAAI;AAAuCL,kBAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AAA3C;AAAA,eAdZ,CALmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoB5B;AA5CU,CAAf","sourcesContent":["export default {\n    async ContactCoach(context, payload) {\n        const newRequest = {\n            userEmail: payload.email,\n            message: payload.message\n        }\n\n        await window.axios.post(`https://find-a-coach-vuejs-firebase-default-rtdb.firebaseio.com/requests/${payload.coachId}.json`, newRequest)\n            .then(response => {\n\n                const responseData = response.data.name;\n                console.log(responseData);\n                newRequest.id = responseData;\n\n\n                //store coach id just on the local data\n                newRequest.coachId = payload.coachId;\n                context.commit('addRequest', newRequest);\n            })\n            .catch(error => console.log(error.response.data.errors));\n\n\n\n    },\n    async fetchRequests(context) {\n        //get Curent User Id \n        const coachId = context.rootGetters.userId;\n        const token = context.rootGetters.token;\n        const requests = [];\n        await window.axios.get(`https://find-a-coach-vuejs-firebase-default-rtdb.firebaseio.com/requests/${coachId}.json?auth=` + token)\n            .then(response => {\n\n                const responseData = response.data;\n                for (const key in responseData) {\n                    const request = {\n                        id: key,\n                        coachId: coachId,\n                        userEmail: responseData[key].userEmail,\n                        message: responseData[key].message,\n                    };\n                    requests.push(request);\n                }\n                context.commit('setRequest', requests);\n            }).catch(error => /*context.commit('setErrors', error)*/ console.log(error));\n    }\n\n};"]}]}