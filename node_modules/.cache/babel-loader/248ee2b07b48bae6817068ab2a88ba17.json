{"remainingRequest":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/babel-loader/lib/index.js!/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/eslint-loader/index.js??ref--14-0!/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/store/modules/requests/actions.js","dependencies":[{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/store/modules/requests/actions.js","mtime":1650604518061},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/babel.config.js","mtime":1650074560818},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/cache-loader/dist/cjs.js","mtime":1650074453892},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/babel-loader/lib/index.js","mtime":1650074454587},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/eslint-loader/index.js","mtime":1650074454006}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hcWFtaW5lL0RvY3VtZW50cy9Qcm9qZWN0cy9maW5kLWEtY29hY2gtdnVlanMtZmlyZWJhc2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgQ29udGFjdENvYWNoOiBmdW5jdGlvbiBDb250YWN0Q29hY2goY29udGV4dCwgcGF5bG9hZCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIG5ld1JlcXVlc3Q7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBuZXdSZXF1ZXN0ID0gewogICAgICAgICAgICAgICAgdXNlckVtYWlsOiBwYXlsb2FkLmVtYWlsLAogICAgICAgICAgICAgICAgbWVzc2FnZTogcGF5bG9hZC5tZXNzYWdlCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmF4aW9zLnBvc3QoImh0dHBzOi8vZmluZC1hLWNvYWNoLXZ1ZWpzLWZpcmViYXNlLWRlZmF1bHQtcnRkYi5maXJlYmFzZWlvLmNvbS9yZXF1ZXN0cy8iLmNvbmNhdChwYXlsb2FkLmNvYWNoSWQsICIuanNvbiIpLCBuZXdSZXF1ZXN0KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlLmRhdGEubmFtZTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlRGF0YSk7CiAgICAgICAgICAgICAgICBuZXdSZXF1ZXN0LmlkID0gcmVzcG9uc2VEYXRhOyAvL3N0b3JlIGNvYWNoIGlkIGp1c3Qgb24gdGhlIGxvY2FsIGRhdGEKCiAgICAgICAgICAgICAgICAvL3N0b3JlIGNvYWNoIGlkIGp1c3Qgb24gdGhlIGxvY2FsIGRhdGEKICAgICAgICAgICAgICAgIG5ld1JlcXVlc3QuY29hY2hJZCA9IHBheWxvYWQuY29hY2hJZDsKICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdhZGRSZXF1ZXN0JywgbmV3UmVxdWVzdCk7CiAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvcnMpOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZmV0Y2hSZXF1ZXN0czogZnVuY3Rpb24gZmV0Y2hSZXF1ZXN0cyhjb250ZXh0KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGNvYWNoSWQsIHJlcXVlc3RzOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIC8vZ2V0IEN1cmVudCBVc2VyIElkIAogICAgICAgICAgICAgIGNvYWNoSWQgPSBjb250ZXh0LnJvb3RHZXR0ZXJzLnVzZXJJZDsKICAgICAgICAgICAgICByZXF1ZXN0cyA9IFtdOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gd2luZG93LmF4aW9zLmdldCgiaHR0cHM6Ly9maW5kLWEtY29hY2gtdnVlanMtZmlyZWJhc2UtZGVmYXVsdC1ydGRiLmZpcmViYXNlaW8uY29tL3JlcXVlc3RzLyIuY29uY2F0KGNvYWNoSWQsICIuanNvbiIpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9IHJlc3BvbnNlLmRhdGE7CgogICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHJlc3BvbnNlRGF0YSkgewogICAgICAgICAgICAgICAgICB2YXIgcmVxdWVzdCA9IHsKICAgICAgICAgICAgICAgICAgICBpZDoga2V5LAogICAgICAgICAgICAgICAgICAgIGNvYWNoSWQ6IGNvYWNoSWQsCiAgICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiByZXNwb25zZURhdGFba2V5XS51c2VyRW1haWwsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2VEYXRhW2tleV0ubWVzc2FnZQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICByZXF1ZXN0cy5wdXNoKHJlcXVlc3QpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRSZXF1ZXN0JywgcmVxdWVzdHMpOwogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgICAgICAgcmV0dXJuICgKICAgICAgICAgICAgICAgICAgLypjb250ZXh0LmNvbW1pdCgnc2V0RXJyb3JzJywgZXJyb3IpKi8KICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/store/modules/requests/actions.js"],"names":["ContactCoach","context","payload","newRequest","userEmail","email","message","window","axios","post","coachId","then","response","responseData","data","name","console","log","id","commit","catch","error","errors","fetchRequests","rootGetters","userId","requests","get","key","request","push"],"mappings":";;;AAAA,eAAe;AACLA,EAAAA,YADK,wBACQC,OADR,EACiBC,OADjB,EAC0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC3BC,cAAAA,UAD2B,GACd;AACfC,gBAAAA,SAAS,EAAEF,OAAO,CAACG,KADJ;AAEfC,gBAAAA,OAAO,EAAEJ,OAAO,CAACI;AAFF,eADc;AAAA;AAAA,qBAM3BC,MAAM,CAACC,KAAP,CAAaC,IAAb,oFAA8FP,OAAO,CAACQ,OAAtG,YAAsHP,UAAtH,EACDQ,IADC,CACI,UAAAC,QAAQ,EAAI;AAEd,oBAAMC,YAAY,GAAGD,QAAQ,CAACE,IAAT,CAAcC,IAAnC;AACAC,gBAAAA,OAAO,CAACC,GAAR,CAAYJ,YAAZ;AACAV,gBAAAA,UAAU,CAACe,EAAX,GAAgBL,YAAhB,CAJc,CAOd;;AAAA;AACAV,gBAAAA,UAAU,CAACO,OAAX,GAAqBR,OAAO,CAACQ,OAA7B;AACAT,gBAAAA,OAAO,CAACkB,MAAR,CAAe,YAAf,EAA6BhB,UAA7B;AACH,eAXC,EAYDiB,KAZC,CAYK,UAAAC,KAAK;AAAA,uBAAIL,OAAO,CAACC,GAAR,CAAYI,KAAK,CAACT,QAAN,CAAeE,IAAf,CAAoBQ,MAAhC,CAAJ;AAAA,eAZV,CAN2B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBpC,GAvBU;AAwBLC,EAAAA,aAxBK,yBAwBStB,OAxBT,EAwBkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACzB;AACMS,cAAAA,OAFmB,GAETT,OAAO,CAACuB,WAAR,CAAoBC,MAFX;AAInBC,cAAAA,QAJmB,GAIR,EAJQ;AAAA;AAAA,qBAKnBnB,MAAM,CAACC,KAAP,CAAamB,GAAb,oFAA6FjB,OAA7F,YACDC,IADC,CACI,UAAAC,QAAQ,EAAI;AAEd,oBAAMC,YAAY,GAAGD,QAAQ,CAACE,IAA9B;;AACA,qBAAK,IAAMc,GAAX,IAAkBf,YAAlB,EAAgC;AAC5B,sBAAMgB,OAAO,GAAG;AACZX,oBAAAA,EAAE,EAAEU,GADQ;AAEZlB,oBAAAA,OAAO,EAAEA,OAFG;AAGZN,oBAAAA,SAAS,EAAES,YAAY,CAACe,GAAD,CAAZ,CAAkBxB,SAHjB;AAIZE,oBAAAA,OAAO,EAAEO,YAAY,CAACe,GAAD,CAAZ,CAAkBtB;AAJf,mBAAhB;AAMAoB,kBAAAA,QAAQ,CAACI,IAAT,CAAcD,OAAd;AACH;;AACD5B,gBAAAA,OAAO,CAACkB,MAAR,CAAe,YAAf,EAA6BO,QAA7B;AACH,eAdC,EAcCN,KAdD,CAcO,UAAAC,KAAK;AAAA;AAAI;AAAuCL,kBAAAA,OAAO,CAACC,GAAR,CAAYI,KAAZ;AAA3C;AAAA,eAdZ,CALmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAoB5B;AA5CU,CAAf","sourcesContent":["export default {\n    async ContactCoach(context, payload) {\n        const newRequest = {\n            userEmail: payload.email,\n            message: payload.message\n        }\n\n        await window.axios.post(`https://find-a-coach-vuejs-firebase-default-rtdb.firebaseio.com/requests/${payload.coachId}.json`, newRequest)\n            .then(response => {\n\n                const responseData = response.data.name;\n                console.log(responseData);\n                newRequest.id = responseData;\n\n\n                //store coach id just on the local data\n                newRequest.coachId = payload.coachId;\n                context.commit('addRequest', newRequest);\n            })\n            .catch(error => console.log(error.response.data.errors));\n\n\n\n    },\n    async fetchRequests(context) {\n        //get Curent User Id \n        const coachId = context.rootGetters.userId;\n\n        const requests = [];\n        await window.axios.get(`https://find-a-coach-vuejs-firebase-default-rtdb.firebaseio.com/requests/${coachId}.json`)\n            .then(response => {\n\n                const responseData = response.data;\n                for (const key in responseData) {\n                    const request = {\n                        id: key,\n                        coachId: coachId,\n                        userEmail: responseData[key].userEmail,\n                        message: responseData[key].message,\n                    };\n                    requests.push(request);\n                }\n                context.commit('setRequest', requests);\n            }).catch(error => /*context.commit('setErrors', error)*/ console.log(error));\n    }\n\n};"]}]}