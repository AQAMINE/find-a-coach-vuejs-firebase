{"remainingRequest":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/views/auth/UserAuth.vue?vue&type=style&index=0&id=b5a97fe0&scoped=true&lang=css","dependencies":[{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/views/auth/UserAuth.vue","mtime":1650779358589},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/css-loader/dist/cjs.js","mtime":1650074454321},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1650074454996},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/postcss-loader/src/index.js","mtime":1650074454578},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/cache-loader/dist/cjs.js","mtime":1650074453892},{"path":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/node_modules/vue-loader-v16/dist/index.js","mtime":1650074454578}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CnB7CiAgICBjb2xvcjogcmVkOwp9CmZvcm0gewogICAgbWFyZ2luOiAxcmVtOwogICAgYm9yZGVyLXJhZGl1czogMTJweDsKICAgIHBhZGRpbmc6IDFyZW07Cn0KCi5mb3JtLWNvbnRyb2wgewogICAgbWFyZ2luOiAwLjVyZW0gMDsKfQoKbGFiZWwgewogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBtYXJnaW4tYm90dG9tOiAwLjVyZW07CiAgICBkaXNwbGF5OiBibG9jazsKfQoKaW5wdXQsCnRleHRhcmVhIHsKICAgIGRpc3BsYXk6IGJsb2NrOwogICAgd2lkdGg6IDEwMCU7CiAgICBmb250OiBpbmhlcml0OwogICAgYm9yZGVyOiAxcHggc29saWQgI2NjYzsKICAgIHBhZGRpbmc6IDAuMTVyZW07Cn0KCmlucHV0OmZvY3VzLAp0ZXh0YXJlYTpmb2N1cyB7CiAgICBib3JkZXItY29sb3I6ICMzZDAwOGQ7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFmNmZmOwogICAgb3V0bGluZTogbm9uZTsKfQo="},{"version":3,"sources":["/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/views/auth/UserAuth.vue"],"names":[],"mappings":";AAmGA,CAAC;IACG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;AACd;AACA,CAAC,CAAC,CAAC,EAAE;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACjB;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;AACpB;;AAEA,CAAC,CAAC,CAAC,CAAC,EAAE;IACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAClB;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACd,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACpB;;AAEA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACzB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;AACjB","file":"/Users/aqamine/Documents/Projects/find-a-coach-vuejs-firebase/src/views/auth/UserAuth.vue","sourceRoot":"","sourcesContent":["<template>\n    <base-card>\n        <base-spinner v-if=\"isLoading\"></base-spinner>\n        <form v-else @submit.prevent=\"submitForm\">\n            <p v-if=\"getErrors\">{{getErrors}}</p>\n            <div class=\"form-control\">\n                <label for=\"email\">Email</label>\n                <input type=\"email\" id=\"email\" v-model.trim=\"email\">\n            </div>\n            <div class=\"form-control\">\n                <label for=\"password\">Password</label>\n                <input type=\"password\" id=\"password\" v-model.trim=\"password\">\n            </div>\n            <p v-if=\"!fromIsValid\">Please enter a valid email and password must be at least 6 characters long</p>\n            <base-button>{{submitButtonCaption}}</base-button>\n            <base-button @click=\"switchAuthMode\" type=\"button\" mode=\"flat\">{{switchModeButtonCaption}}</base-button>\n        </form> \n    </base-card>\n\n</template>\n\n\n<script>\nexport default {\n    data(){\n        return {\n            email: '',\n            password: '',\n            fromIsValid: true,\n            mode: 'login',\n            isLoading : false,\n            errors : ''\n        }\n    },\n    computed:{\n        submitButtonCaption(){\n            if(this.mode === 'login'){\n                return 'Login'\n            }else{\n                return 'Signup'\n            }\n        },\n        switchModeButtonCaption(){\n            if(this.mode === 'login'){\n                return 'Signup instead'\n            }else{\n                return 'Login instead'\n            }\n        },\n        getErrors(){\n            const errors = this.$store.getters['getErrors'];\n            return errors && this.mode=='login' ? 'Email or password invalid!' : errors && this.mode=='signup' ? 'Email already exists' : '' ;\n        }\n\n    },\n    methods:{\n        async submitForm(){\n            //rets\n            this.$store.commit('seetErrors' , '');\n            this.fromIsValid = true;\n\n\n            if(this.email === '' || !this.email.includes('@') || this.password.length < 6){\n                return this.fromIsValid = false;\n            }\n            //form validated send http request to the server now\n            const actionPayload = {\n                    email: this.email,\n                    password: this.password\n                };\n\n                \n            if(this.mode === 'login'){\n                this.isLoading = true;\n                await this.$store.dispatch('login',actionPayload);\n                this.isLoading = false;\n            }else{\n                this.isLoading = true,\n                await this.$store.dispatch('signup',actionPayload);\n                this.isLoading = false;\n            }\n\n            const redirectUrl = '/' + (this.$router.query.redirect || 'coaches');\n            //if no errors go to dashboard\n            if(!this.$store.getters.getErrors){\n                this.$router.replace(redirectUrl); \n            } \n            \n\n        },\n        switchAuthMode(){\n            this.mode === 'login' ? this.mode = 'signup' : this.mode = 'login';\n        }\n\n    }\n}\n</script>\n\n<style scoped>\np{\n    color: red;\n}\nform {\n    margin: 1rem;\n    border-radius: 12px;\n    padding: 1rem;\n}\n\n.form-control {\n    margin: 0.5rem 0;\n}\n\nlabel {\n    font-weight: bold;\n    margin-bottom: 0.5rem;\n    display: block;\n}\n\ninput,\ntextarea {\n    display: block;\n    width: 100%;\n    font: inherit;\n    border: 1px solid #ccc;\n    padding: 0.15rem;\n}\n\ninput:focus,\ntextarea:focus {\n    border-color: #3d008d;\n    background-color: #faf6ff;\n    outline: none;\n}\n</style>\n"]}]}